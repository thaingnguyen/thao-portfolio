---
import { journeyData } from '../../content/journey';
---
<section {...Astro.props} class="bg-surface-alt py-20 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto text-center">
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">About me</h2>
        <p class="mt-4 text-lg text-foreground-muted px-4 md:px-36 italic leading-relaxed">
            <svg class="inline-block w-[1.5em] h-[1.5em] text-[rgb(var(--rgb-accent-primary)/0.65)] align-baseline" aria-hidden="true" focusable="false" viewBox="0 0 24 24" role="presentation">
                <path d="M10.5 4H6.2L3 10.8V15h7.5V8.5H6.6L10.5 4z" fill="currentColor"/>
            </svg>
            Hello, I'm Thao! I'm a creative marketer passionate about turning brand stories into impactful campaigns. My journey is one of continuous growth, focused on connecting with audiences and delivering results. Explore the milestones below to see how my experience has shaped my approach.
            <svg class="inline-block w-[1.5em] h-[1.5em] text-[rgb(var(--rgb-accent-primary)/0.65)] align-text-top -scale-x-100 translate-y-[0.25em]" aria-hidden="true" focusable="false" viewBox="0 0 24 24" role="presentation">
                <path d="M10.5 4H6.2L3 10.8V15h7.5V8.5H6.6L10.5 4z" fill="currentColor"/>
            </svg>
        </p>
    </div>

    <div class="max-w-7xl mx-auto mt-20">
        <!-- Timeline container -->
        <div class="relative">
            <!-- The connecting line for DESKTOP -->
            <div class="hidden md:block absolute top-[57px] left-0 w-full h-px bg-foreground-muted border-none"></div>
            
            <!-- The connecting line for MOBILE -->
            <div class="md:hidden absolute top-0 left-[6px] w-px h-full bg-foreground-muted"></div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-y-12 md:gap-y-0 md:gap-x-8">
                
                {journeyData.map((item, index) => (
                <div class="relative md:flex md:flex-col md:items-center">
                    <!-- Mobile layout container -->
                    <div class="md:hidden flex items-start gap-x-4">
                        <!-- Mobile dot -->
                        <div class="flex-shrink-0">                           
                            <div class={`w-3.5 h-3.5 bg-accent-primary rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)] z-10 relative ${index === journeyData.length - 1 ? 'present-dot' : ''}`}></div>
                        </div>

                        <!-- Mobile card content -->
                        <div class="w-full -mt-1">
                            <h4 class="font-semibold text-foreground-secondary">{item.title}</h4>
                            <p class="text-sm text-foreground-muted mb-3">{item.date}</p>
                            <div class="bg-surface-alt border-t-4 border-accent-primary p-6 rounded-lg shadow-lg w-full text-left">
                                <p class="text-sm text-foreground-muted">{item.company}</p>
                                <h3 class="text-xl font-bold text-accent-primary tracking-tight">{item.role}</h3>
                                <p class="mt-2 text-foreground-muted leading-relaxed">{item.description}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Desktop layout -->
                    <div class="hidden md:block text-center z-10">
                        <h4 class="font-semibold text-foreground-secondary">{item.title}</h4>
                        <p class="text-sm text-foreground-muted">{item.date}</p>
                        <div class={`timeline-dot mt-2 w-3.5 h-3.5 bg-accent-primary rounded-full mx-auto ${index === journeyData.length - 1 ? 'present-dot' : ''}`}></div>
                    </div>
                    <div class="hidden md:block mt-16 w-full h-full">
                        <div class="bg-surface-alt border-t-4 border-accent-primary p-6 rounded-lg shadow-lg w-full h-full text-left transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-glow-primary hover:border-strong">
                            <p class="text-sm text-foreground-muted">{item.company}</p>
                            <h3 class="text-xl font-bold text-accent-primary tracking-tight">{item.role}</h3>
                            <p class="mt-2 text-foreground-muted leading-relaxed">{item.description}</p>
                        </div>
                    </div>
                </div>
                ))}
            </div>
        </div>
    </div>
</section>

<style>
  .timeline-dot {
      box-shadow: 0 0 12px rgb(var(--rgb-glow-primary) / 0.8);
  }
  @keyframes pulse-glow {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 15px 2px rgb(var(--rgb-glow-primary) / 0.6);
    }
    50% {
        transform: scale(1.15);
        box-shadow: 0 0 25px 5px rgb(var(--rgb-glow-primary) / 0.9);
    }
  }
  .present-dot {
      animation: pulse-glow 2s ease-in-out infinite;
  }
</style>
